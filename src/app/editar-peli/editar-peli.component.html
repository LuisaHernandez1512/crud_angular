<h1>NUEVA PELICULA</h1>
<form (ngSubmit)="onSubmit()" #peliForm="ngForm">
  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="titulo">Titulo</label>
      <input type="text" class="form-control" required minlength="3" [(ngModel)]="peli.titulo" name="titulo">
      <div *ngIf="peliForm.controls['titulo']?.invalid && peliForm.controls['titulo']?.touched">
        <small class="text-danger">El título es obligatorio y debe tener al menos 3 caracteres.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="descripcion">Descripcion</label>
      <input type="text" class="form-control" required [(ngModel)]="peli.descripcion" name="descripcion">
      <div *ngIf="peliForm.controls['descripcion']?.invalid && peliForm.controls['descripcion']?.touched">
        <small class="text-danger">La descripción es obligatoria.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="genero">Genero</label>
      <input type="text" class="form-control" required [(ngModel)]="peli.genero" name="genero">
      <div *ngIf="peliForm.controls['genero']?.invalid && peliForm.controls['genero']?.touched">
        <small class="text-danger">El género es obligatorio.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="ano_lanzamiento">Año lanzamiento</label>
      <input type="number" class="form-control" required [(ngModel)]="peli.ano_lanzamiento" name="ano_lanzamiento" min="1900" max="2023">
      <div *ngIf="peliForm.controls['ano_lanzamiento']?.invalid && peliForm.controls['ano_lanzamiento']?.touched">
        <small class="text-danger">El año de lanzamiento debe ser un número entre 1900 y 2024.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="director">Director</label>
      <input type="text" class="form-control" required [(ngModel)]="peli.director" name="director">
      <div *ngIf="peliForm.controls['director']?.invalid && peliForm.controls['director']?.touched">
        <small class="text-danger">El director es obligatorio.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="actores">Actores</label>
      <input type="text" class="form-control" required [(ngModel)]="peli.actores" name="actores">
      <div *ngIf="peliForm.controls['actores']?.invalid && peliForm.controls['actores']?.touched">
        <small class="text-danger">Los actores son obligatorios.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="duracion">Duracion</label>
      <input type="number" class="form-control" required [(ngModel)]="peli.duracion" name="duracion" min="1">
      <div *ngIf="peliForm.controls['duracion']?.invalid && peliForm.controls['duracion']?.touched">
        <small class="text-danger">La duración debe ser un número positivo.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="precio_alquiler">Precio alquiler</label>
      <input type="number" class="form-control" required [(ngModel)]="peli.precio_alquiler" name="precio_alquiler" min="0">
      <div *ngIf="peliForm.controls['precio_alquiler']?.invalid && peliForm.controls['precio_alquiler']?.touched">
        <small class="text-danger">El precio de alquiler debe ser un número mayor que 0.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="precio_compra">Precio compra</label>
      <input type="number" class="form-control" required [(ngModel)]="peli.precio_compra" name="precio_compra" min="0">
      <div *ngIf="peliForm.controls['precio_compra']?.invalid && peliForm.controls['precio_compra']?.touched">
        <small class="text-danger">El precio de compra debe ser un número mayor que 0.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-12">
      <label class="control-label" for="imagen">Imagen</label>
      <input type="text" class="form-control" required [(ngModel)]="peli.imagen" name="imagen">
      <div *ngIf="peliForm.controls['imagen']?.invalid && peliForm.controls['imagen']?.touched">
        <small class="text-danger">La imagen es obligatoria.</small>
      </div>
    </div>
  </fieldset>

  <fieldset class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" [disabled]="!peliForm.valid">ENVIAR</button>
    </div>
  </fieldset>
</form>
